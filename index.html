<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Calificaciones - Universidad de C√≥rdoba</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="styles-docs.css">
    <link rel="stylesheet" href="styles-config.css">
    <link rel="stylesheet" href="styles-table.css">
    <link rel="icon" href="https://aulasvirtuales.unicordoba.edu.co/pluginfile.php/1/theme_mb2nl/logo/1755638568/unicordoba_logo.png">
</head>
<body>
    <!-- Header -->
    <header class="header" role="banner">
        <div class="header-content">
            <div class="header-left">
                <img src="https://aulasvirtuales.unicordoba.edu.co/pluginfile.php/1/theme_mb2nl/logo/1755638568/unicordoba_logo.png" 
                     alt="Universidad de C√≥rdoba" 
                     class="logo" 
                     width="60" 
                     height="60">
                <h1>Seguimiento Estudiantes UNICOR</h1>
            </div>
        </div>
    </header>

    <!-- Navegaci√≥n -->
    <nav class="nav-menu" role="navigation" aria-label="Navegaci√≥n principal">
        <div role="tablist" aria-label="Secciones principales">
            <button id="btn-estudiantes" 
                    class="nav-btn active" 
                    role="tab" 
                    aria-selected="true" 
                    aria-controls="seccion-estudiantes">
                <span class="icon">üë•</span>
                Estudiantes
            </button>
            <button id="btn-configuracion" 
                    class="nav-btn" 
                    role="tab" 
                    aria-selected="false" 
                    aria-controls="seccion-configuracion">
                <span class="icon">‚öôÔ∏è</span>
                Configuraci√≥n
            </button>
            <button id="btn-ayuda" 
                    class="nav-btn" 
                    role="tab" 
                    aria-selected="false" 
                    aria-controls="seccion-ayuda">
                <span class="icon">‚ùî</span>
                Ayuda
            </button>
        </div>
    </nav>

    <!-- Secci√≥n de Estudiantes -->
    <main>
        <section id="seccion-estudiantes" 
                class="section active" 
                role="tabpanel" 
                aria-labelledby="btn-estudiantes"
                tabindex="0">
            <div class="container">
            <div class="section-header">
                <h2 class="curso-grupo-header">Curso: 203413 FUNDAMENTOS DE ALGORITMIA &nbsp; | &nbsp; Grupo: 2</h2>
            </div>

            <!-- Filtro de vista -->
            <div class="filtro-vista">
                <label for="filtro-vista-estudiantes">Vista:</label>
                <select id="filtro-vista-estudiantes">
                    <option value="cards">Tarjetas</option>
                    <option value="list">Lista</option>
                </select>
            </div>

            <!-- Lista de Estudiantes -->
            <div id="lista-estudiantes" class="estudiantes-grid">
                <!-- Los estudiantes se cargar√°n din√°micamente aqu√≠ -->
            </div>

            <!-- Modal para agregar/editar estudiante -->
            <div id="modal-estudiante" class="modal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3 id="modal-titulo">Agregar Estudiante</h3>
                        <span class="close">&times;</span>
                    </div>
                    <form id="form-estudiante">
                        <div class="form-group">
                            <label for="nombre-estudiante">Nombre completo:</label>
                            <input type="text" id="nombre-estudiante" required>
                        </div>
                        <div class="form-group">
                            <label for="codigo-estudiante">C√≥digo:</label>
                            <input type="text" id="codigo-estudiante" required>
                        </div>
                        <div class="form-group">
                            <label for="correo-estudiante">Correo:</label>
                            <input type="email" id="correo-estudiante">
                        </div>
                        <div class="form-group">
                            <label for="grupo-estudiante">Grupo:</label>
                            <input type="text" id="grupo-estudiante">
                        </div>
                        <div class="form-group">
                            <label for="corte1">Corte 1 (0-5.0):</label>
                            <input type="number" id="corte1" min="0" max="5" step="0.01" placeholder="0.00">
                        </div>
                        <div class="form-group">
                            <label for="corte2">Corte 2 (0-5.0):</label>
                            <input type="number" id="corte2" min="0" max="5" step="0.01" placeholder="0.00">
                        </div>
                        <div class="form-group">
                            <label for="corte3">Corte 3 (0-5.0):</label>
                            <input type="number" id="corte3" min="0" max="5" step="0.01" placeholder="0.00">
                        </div>
                        <div class="form-group">
                            <label for="bonificacion">Bonificaci√≥n (0-5.0):</label>
                            <input type="number" id="bonificacion" min="0" max="5" step="0.01" placeholder="0.00">
                        </div>
                        <div class="form-group">
                            <label for="comentarios">Comentarios:</label>
                            <textarea id="comentarios" rows="3" placeholder="Observaciones sobre el estudiante"></textarea>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">Guardar</button>
                            <button type="button" class="btn btn-secondary" id="btn-cancelar">Cancelar</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- Secci√≥n de Configuraci√≥n -->
        <section id="seccion-configuracion" 
                class="section"
                role="tabpanel" 
                aria-labelledby="btn-configuracion"
                tabindex="0">
            <div class="container">
            <div class="section-header">
                <h2>Configuraci√≥n del Sistema</h2>
                <button id="btn-backup" class="btn btn-outline">Crear Respaldo</button>
            </div>
            
            <!-- Configuraci√≥n distribuida en grid -->
            <div class="config-wrapper">
                <div class="config-card">
                    <h3>Carga Masiva de Estudiantes</h3>
                    <div class="upload-area" id="drop-zone">
                        <div class="upload-icon">üìÅ</div>
                        <p>Arrastra aqu√≠ tu archivo de Excel o</p>
                        <input type="file" id="archivo-estudiantes" accept=".xls,.xlsx" class="hidden-file" title="Seleccionar archivo Excel de estudiantes">
                        <button id="btn-cargar-archivo" class="btn btn-secondary">Seleccionar archivo</button>
                        <div class="upload-info">Archivo Excel de Academusoft</div>
                    </div>
                    <div class="upload-preview" id="upload-preview">
                        <div class="preview-header">
                            <span class="preview-filename" id="preview-filename">archivo.xlsx</span>
                            <button class="btn-icon" id="btn-cancel-upload">‚ùå</button>
                        </div>
                        <button id="btn-importar" class="btn btn-primary">Procesar Archivo</button>
                    </div>
                </div>
                <div class="config-card">
                    <h3>Porcentajes de Cortes Acad√©micos</h3>
                    <form id="form-porcentajes">
                        <div class="form-group">
                            <label for="porcentaje-corte1">Primer Corte (%):</label>
                            <input type="number" id="porcentaje-corte1" min="0" max="100" value="33" required>
                            <div class="form-help">Porcentaje para el primer corte del semestre</div>
                        </div>
                        <div class="form-group">
                            <label for="porcentaje-corte2">Segundo Corte (%):</label>
                            <input type="number" id="porcentaje-corte2" min="0" max="100" value="33" required>
                            <div class="form-help">Porcentaje para el segundo corte del semestre</div>
                        </div>
                        <div class="form-group">
                            <label for="porcentaje-corte3">Tercer Corte (%):</label>
                            <input type="number" id="porcentaje-corte3" min="0" max="100" value="34" required>
                            <div class="form-help">Porcentaje para el tercer corte del semestre</div>
                        </div>
                        <div class="total-porcentaje">
                            Total: <span id="total-porcentaje">100</span>%
                            <div class="total-validation" id="total-validation">Los porcentajes deben sumar exactamente 100%</div>
                        </div>
                        <button type="submit" class="btn btn-primary">Guardar Configuraci√≥n</button>
                    </form>
                </div>
                <div class="config-card">
                    <h3>Configuraci√≥n de C√°lculos</h3>
                    <form id="form-calculos">
                        <div class="form-group">
                            <label>Porcentajes Predeterminados de Cortes:</label>
                            <div class="porcentajes-info">
                                <span class="porcentaje-item">Primer Corte: <strong>33%</strong></span>
                                <span class="porcentaje-item">Segundo Corte: <strong>33%</strong></span>
                                <span class="porcentaje-item">Tercer Corte: <strong>34%</strong></span>
                            </div>
                            <div class="form-help">Configuraci√≥n est√°ndar para distribuci√≥n de porcentajes acad√©micos</div>
                        </div>
                        <div class="form-group">
                            <label for="nota-aprobacion">Nota m√≠nima de aprobaci√≥n:</label>
                            <input type="number" id="nota-aprobacion" min="0" max="5" step="0.1" value="3.0">
                            <div class="form-help">Nota m√≠nima para considerar la materia como aprobada</div>
                        </div>
                        <div class="form-group">
                            <label for="decimales">Decimales en calificaciones:</label>
                            <select id="decimales">
                                <option value="1">1 decimal</option>
                                <option value="2" selected>2 decimales</option>
                                <option value="3">3 decimales</option>
                            </select>
                            <div class="form-help">N√∫mero de decimales a mostrar en las calificaciones</div>
                        </div>
                        <button type="submit" class="btn btn-primary">Guardar Preferencias</button>
                    </form>
                </div>
                <div class="config-card">
                    <h3>Gesti√≥n de Datos</h3>
                    <div class="data-actions">
                        <div class="action-group">
                            <button id="btn-exportar" class="btn btn-outline">
                                <span class="icon">üì§</span>
                                Exportar Datos
                            </button>
                            <div class="action-help">Descarga un archivo Excel con todos los datos</div>
                        </div>
                        <div class="action-group">
                            <button id="btn-limpiar-datos" class="btn btn-danger">
                                <span class="icon">üóëÔ∏è</span>
                                Limpiar Datos
                            </button>
                            <div class="action-help">Elimina todos los datos (requiere confirmaci√≥n)</div>
                        </div>
                    </div>
                </div>
                <div class="config-card system-info">
                    <h3>Informaci√≥n del Sistema</h3>
                    <div class="info-grid">
                        <div class="info-item">
                            <span class="info-label">Versi√≥n:</span>
                            <span class="info-value">1.0.0</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">√öltimo respaldo:</span>
                            <span class="info-value" id="ultimo-respaldo">No hay respaldo</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Espacio usado:</span>
                            <span class="info-value" id="espacio-usado">Calculando...</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Estudiantes:</span>
                            <span class="info-value" id="total-estudiantes">0</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Secci√≥n de Ayuda -->
        <section id="seccion-ayuda" 
                class="section" 
                role="tabpanel" 
                aria-labelledby="btn-ayuda"
                tabindex="0"
                hidden>
            <div class="container">
            <h2>Ayuda y Documentaci√≥n</h2>

            <!-- Navegaci√≥n de ayuda -->
            <div class="help-nav">
                <div class="help-tabs">
                    <button class="help-tab-btn active" data-section="guia-rapida">Gu√≠a R√°pida</button>
                    <button class="help-tab-btn" data-section="manual-tecnico">Manual T√©cnico</button>
                    <button class="help-tab-btn" data-section="documentacion">Documentaci√≥n de C√≥digo</button>
                    <button class="help-tab-btn" data-section="formatos">Formatos</button>
                </div>
            </div>

            <!-- Gu√≠a R√°pida -->
            <div id="help-guia-rapida" class="help-section active">
                <div class="help-card">
                    <h3>¬øC√≥mo usar la calculadora?</h3>
                    <ol>
                        <li><strong>Configurar porcentajes:</strong> Vaya a la secci√≥n "Configuraci√≥n" y establezca los porcentajes para cada corte acad√©mico (predeterminados: 33%, 33%, 34%).</li>
                        <li><strong>Cargar estudiantes:</strong> Use la carga masiva desde Excel de Academusoft o agregue estudiantes manualmente.</li>
                        <li><strong>Registrar calificaciones:</strong> Edite directamente las notas en la tabla haciendo clic en cada casilla.</li>
                        <li><strong>Agregar bonificaciones:</strong> En la columna "+ Bonificaci√≥n" ingrese la nota extra y su comentario justificativo.</li>
                        <li><strong>Visualizar predicciones:</strong> El sistema calcula autom√°ticamente qu√© nota necesita cada estudiante para aprobar.</li>
                        <li><strong>Exportar datos:</strong> Descargue un archivo Excel con todas las calificaciones en cualquier momento.</li>
                    </ol>
                </div>

                <div class="help-card">
                    <h3>Interpretaci√≥n de Colores</h3>
                    <div class="color-legend">
                        <div class="legend-item">
                            <div class="color-box aprobado"></div>
                            <span>Verde: Estudiante aprobado (‚â• 3.0)</span>
                        </div>
                        <div class="legend-item">
                            <div class="color-box reprobado"></div>
                            <span>Rojo: Estudiante reprobado (< 3.0)</span>
                        </div>
                        <div class="legend-item">
                            <div class="color-box inalcanzable"></div>
                            <span>Gris: Meta inalcanzable incluso con 5.0</span>
                        </div>
                        <div class="legend-item">
                            <div class="color-box en-progreso"></div>
                            <span>Amarillo: En progreso, puede aprobar</span>
                        </div>
                    </div>
                </div>

                <div class="help-card">
                    <h3>Atajos de Teclado</h3>
                    <div class="shortcuts-grid">
                        <div class="shortcut-item">
                            <kbd>Ctrl + N</kbd>
                            <span>Agregar nuevo estudiante</span>
                        </div>
                        <div class="shortcut-item">
                            <kbd>Ctrl + S</kbd>
                            <span>Guardar datos</span>
                        </div>
                        <div class="shortcut-item">
                            <kbd>Ctrl + E</kbd>
                            <span>Exportar datos</span>
                        </div>
                        <div class="shortcut-item">
                            <kbd>Escape</kbd>
                            <span>Cerrar modal</span>
                        </div>
                    </div>
                </div>

                <div class="help-card">
                    <h3>Caracter√≠sticas Principales</h3>
                    <ul>
                        <li><strong>Edici√≥n Directa:</strong> Modifique notas directamente en la tabla sin abrir formularios.</li>
                        <li><strong>C√°lculo Autom√°tico:</strong> Las definitivas se recalculan instant√°neamente al cambiar cualquier nota.</li>
                        <li><strong>Predicciones Inteligentes:</strong> Vea qu√© nota necesita en cortes faltantes para aprobar.</li>
                        <li><strong>Bonificaciones:</strong> Agregue puntos extra con comentarios justificativos que se suman a la definitiva.</li>
                        <li><strong>Vista Dual:</strong> Alterne entre vista de lista (tabla) y vista de tarjetas seg√∫n su preferencia.</li>
                        <li><strong>Persistencia Local:</strong> Todos los datos se guardan autom√°ticamente en su navegador.</li>
                    </ul>
                </div>
            </div>

            <!-- Manual T√©cnico -->
            <div id="help-manual-tecnico" class="help-section">
                <div class="help-card">
                    <h3>1. Descripci√≥n General del Sistema</h3>
                    <p>Sistema web independiente para gesti√≥n acad√©mica b√°sica, enfocado en el c√°lculo y predicci√≥n de calificaciones estudiantiles. Utiliza LocalStorage para persistencia de datos sin requerir servidor backend.</p>
                    
                    <h4>Funciones Principales:</h4>
                    <ul>
                        <li>Gesti√≥n completa de estudiantes (CRUD)</li>
                        <li>Configuraci√≥n de porcentajes acad√©micos</li>
                        <li>C√°lculo autom√°tico de definitivas y predicciones</li>
                        <li>Importaci√≥n/Exportaci√≥n de datos CSV</li>
                        <li>Validaciones en tiempo real</li>
                    </ul>
                </div>

                <div class="help-card">
                    <h3>2. Arquitectura del Sistema</h3>
                    <h4>Estructura de Archivos:</h4>
                    <div class="code-block">
                        <code>
/FDA/<br>
‚îú‚îÄ‚îÄ index.html &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Estructura principal<br>
‚îú‚îÄ‚îÄ styles.css &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# Estilos y dise√±o<br>
‚îî‚îÄ‚îÄ script.js &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# L√≥gica de aplicaci√≥n
                        </code>
                    </div>

                    <h4>Patrones de Dise√±o:</h4>
                    <ul>
                        <li><strong>Singleton:</strong> Clase CalculadoraCalificaciones √∫nica</li>
                        <li><strong>MVC:</strong> Separaci√≥n de vista, modelo y controlador</li>
                        <li><strong>Observer:</strong> Event listeners para interacciones</li>
                    </ul>
                </div>

                <div class="help-card">
                    <h3>3. Flujo de Navegaci√≥n</h3>
                    
                    <h4>Secci√≥n Estudiantes:</h4>
                    <div class="flow-diagram">
                        <p><strong>Inicio</strong> ‚Üí Lista de Estudiantes</p>
                        <ul>
                            <li><strong>[Agregar]</strong> ‚Üí Modal de estudiante ‚Üí Validaci√≥n ‚Üí Guardar ‚Üí Lista</li>
                            <li><strong>[Editar]</strong> ‚Üí Modal de estudiante (pre-lleno) ‚Üí Actualizar ‚Üí Lista</li>
                            <li><strong>[Eliminar]</strong> ‚Üí Confirmaci√≥n ‚Üí Eliminar ‚Üí Lista</li>
                            <li><strong>[Ver Predicciones]</strong> ‚Üí C√°lculos autom√°ticos en card</li>
                        </ul>
                    </div>

                    <h4>Secci√≥n Configuraci√≥n:</h4>
                    <div class="flow-diagram">
                        <ul>
                            <li><strong>Porcentajes</strong> ‚Üí Validaci√≥n suma 100% ‚Üí Guardar ‚Üí Rec√°lculo</li>
                            <li><strong>Carga CSV</strong> ‚Üí Validaci√≥n formato ‚Üí Importar ‚Üí Lista actualizada</li>
                            <li><strong>Exportar</strong> ‚Üí Generar CSV ‚Üí Descarga</li>
                            <li><strong>Limpiar</strong> ‚Üí Confirmaci√≥n ‚Üí Borrar todo ‚Üí Lista vac√≠a</li>
                        </ul>
                    </div>
                </div>

                <div class="help-card">
                    <h3>4. Algoritmos de C√°lculo</h3>
                    
                    <h4>C√°lculo de Definitiva:</h4>
                    <div class="formula">
                        <code>Definitiva = (Corte1 √ó %1) + (Corte2 √ó %2) + (Corte3 √ó %3)</code>
                    </div>

                    <h4>Predicci√≥n de Notas:</h4>
                    <div class="formula">
                        <code>Nota Necesaria = (Objetivo - Acumulado) √ó 100 / PorcentajeRestante</code>
                    </div>

                    <h4>Estados del Estudiante:</h4>
                    <ul>
                        <li><strong>Aprobado:</strong> Definitiva ‚â• 3.0</li>
                        <li><strong>Reprobado:</strong> Definitiva < 3.0 (todos los cortes completos)</li>
                        <li><strong>Inalcanzable:</strong> Nota necesaria > 5.0</li>
                        <li><strong>En progreso:</strong> Cortes incompletos, meta alcanzable</li>
                    </ul>
                </div>

                <div class="help-card">
                    <h3>5. Validaciones Implementadas</h3>
                    
                    <h4>Validaciones de Entrada:</h4>
                    <ul>
                        <li><strong>Nombre:</strong> M√≠nimo 2 caracteres, no vac√≠o</li>
                        <li><strong>C√≥digo:</strong> M√≠nimo 3 caracteres, √∫nico en el sistema</li>
                        <li><strong>Calificaciones:</strong> Rango 0-5.0, m√°ximo 2 decimales</li>
                        <li><strong>Porcentajes:</strong> N√∫meros enteros, suma exacta de 100%</li>
                    </ul>

                    <h4>Validaciones de Negocio:</h4>
                    <ul>
                        <li><strong>Notas negativas:</strong> Autom√°ticamente convertidas a 0</li>
                        <li><strong>Notas > 5.0:</strong> Autom√°ticamente limitadas a 5.0</li>
                        <li><strong>Divisiones por cero:</strong> Manejadas en c√°lculos</li>
                        <li><strong>Metas inalcanzables:</strong> Identificadas y marcadas</li>
                    </ul>
                </div>

                <div class="help-card">
                    <h3>6. Persistencia de Datos</h3>
                    
                    <h4>Estructura en LocalStorage:</h4>
                    <div class="code-block">
                        <code>
{<br>
&nbsp;&nbsp;"estudiantes": [<br>
&nbsp;&nbsp;&nbsp;&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"id": "string",<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"nombre": "string",<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"codigo": "string",<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"corte1": number|null,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"corte2": number|null,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"corte3": number|null<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;],<br>
&nbsp;&nbsp;"porcentajes": {<br>
&nbsp;&nbsp;&nbsp;&nbsp;"corte1": number,<br>
&nbsp;&nbsp;&nbsp;&nbsp;"corte2": number,<br>
&nbsp;&nbsp;&nbsp;&nbsp;"corte3": number<br>
&nbsp;&nbsp;}<br>
}
                        </code>
                    </div>

                    <h4>Operaciones de Persistencia:</h4>
                    <ul>
                        <li><strong>Auto-guardado:</strong> Despu√©s de cada operaci√≥n</li>
                        <li><strong>Carga inicial:</strong> Al iniciar la aplicaci√≥n</li>
                        <li><strong>Manejo de errores:</strong> Validaci√≥n de quota y parsing</li>
                        <li><strong>Backup preventivo:</strong> Antes de operaciones destructivas</li>
                    </ul>
                </div>

                <div class="help-card">
                    <h3>7. Componentes de Interfaz</h3>
                    
                    <h4>Sistema de Colores:</h4>
                    <div class="color-system">
                        <div class="color-item">
                            <div class="color-sample color-2d5a4b"></div>
                            <span><strong>Verde Oscuro (#2d5a4b):</strong> Color principal, headers</span>
                        </div>
                        <div class="color-item">
                            <div class="color-sample color-28a745"></div>
                            <span><strong>Verde √âxito (#28a745):</strong> Estudiantes aprobados</span>
                        </div>
                        <div class="color-item">
                            <div class="color-sample color-dc3545"></div>
                            <span><strong>Rojo Peligro (#dc3545):</strong> Estudiantes reprobados</span>
                        </div>
                        <div class="color-item">
                            <div class="color-sample color-6c757d"></div>
                            <span><strong>Gris Neutro (#6c757d):</strong> Estados inalcanzables</span>
                        </div>
                    </div>

                    <h4>Responsive Design:</h4>
                    <ul>
                        <li><strong>768px y menor:</strong> Grid de una columna, navegaci√≥n vertical</li>
                        <li><strong>480px y menor:</strong> Botones m√°s grandes, modales fullscreen</li>
                        <li><strong>Adaptaciones m√≥viles:</strong> Touch-friendly, texto legible</li>
                    </ul>
                </div>

                <div class="help-card">
                    <h3>8. Manejo de Errores</h3>
                    
                    <h4>Tipos de Error:</h4>
                    <ul>
                        <li><strong>Usuario:</strong> Campos vac√≠os, datos inv√°lidos</li>
                        <li><strong>Sistema:</strong> LocalStorage lleno, archivos corruptos</li>
                        <li><strong>Compatibilidad:</strong> JavaScript deshabilitado</li>
                    </ul>

                    <h4>Estrategias de Recuperaci√≥n:</h4>
                    <ul>
                        <li><strong>Validaci√≥n preventiva:</strong> Evita estados inv√°lidos</li>
                        <li><strong>Mensajes informativos:</strong> Gu√≠an hacia la soluci√≥n</li>
                        <li><strong>Fallbacks:</strong> Valores por defecto seguros</li>
                        <li><strong>Auto-correcci√≥n:</strong> Para rangos num√©ricos</li>
                    </ul>
                </div>

                <div class="help-card">
                    <h3>9. Rendimiento y Escalabilidad</h3>
                    
                    <h4>M√©tricas de Rendimiento:</h4>
                    <ul>
                        <li><strong>Carga inicial:</strong> < 3 segundos</li>
                        <li><strong>Operaciones locales:</strong> < 100ms</li>
                        <li><strong>Capacidad:</strong> Hasta 500 estudiantes</li>
                        <li><strong>Memoria:</strong> Uso eficiente del navegador</li>
                    </ul>

                    <h4>Limitaciones Actuales:</h4>
                    <ul>
                        <li><strong>LocalStorage:</strong> ~5-10MB seg√∫n navegador</li>
                        <li><strong>Sin sincronizaci√≥n:</strong> Solo local por dispositivo</li>
                        <li><strong>Sin backup autom√°tico:</strong> Depende del usuario</li>
                    </ul>
                </div>

                <div class="help-card">
                    <h3>10. Casos de Uso T√©cnicos</h3>
                    
                    <h4>Agregar Estudiante (Flujo Completo):</h4>
                    <ol>
                        <li>Usuario hace click en "Agregar Estudiante"</li>
                        <li>Sistema abre modal con formulario vac√≠o</li>
                        <li>Validaci√≥n en tiempo real durante escritura</li>
                        <li>Al enviar: validaci√≥n final y verificaci√≥n de unicidad</li>
                        <li>Creaci√≥n de objeto estudiante con ID √∫nico</li>
                        <li>Adici√≥n al array y persistencia en LocalStorage</li>
                        <li>Re-renderizado de la lista con animaci√≥n</li>
                        <li>Cierre de modal y mensaje de confirmaci√≥n</li>
                    </ol>

                    <h4>C√°lculo de Predicciones:</h4>
                    <ol>
                        <li>Sistema detecta cortes registrados vs faltantes</li>
                        <li>Calcula acumulado actual con porcentajes</li>
                        <li>Determina porcentaje restante disponible</li>
                        <li>Aplica f√≥rmula para objetivos 2.96 y 5.0</li>
                        <li>Valida si es alcanzable (‚â§ 5.0)</li>
                        <li>Actualiza interfaz con colores apropiados</li>
                    </ol>
                </div>

                <div class="help-card">
                    <h3>11. Futuras Mejoras</h3>
                    
                    <h4>Mejoras de Funcionalidad:</h4>
                    <ul>
                        <li>Sincronizaci√≥n con servicios en la nube</li>
                        <li>Reportes gr√°ficos y estad√≠sticas avanzadas</li>
                        <li>Gesti√≥n de m√∫ltiples materias simult√°neas</li>
                        <li>Integraci√≥n con sistemas acad√©micos existentes</li>
                        <li>Notificaciones autom√°ticas de riesgo acad√©mico</li>
                    </ul>

                    <h4>Mejoras T√©cnicas:</h4>
                    <ul>
                        <li>Migraci√≥n a base de datos real (PostgreSQL/MySQL)</li>
                        <li>API REST para operaciones remotas</li>
                        <li>Autenticaci√≥n y autorizaci√≥n de usuarios</li>
                        <li>Versionado de datos y respaldos autom√°ticos</li>
                        <li>PWA (Progressive Web App) para instalaci√≥n</li>
                    </ul>
                </div>
            </div>

            <!-- Documentaci√≥n de C√≥digo -->
            <div id="help-documentacion" class="help-section">
                <div class="help-card">
                    <h3>Documentaci√≥n Completa del C√≥digo</h3>
                    <p><strong>Sistema de Calculadora de Calificaciones | Referencia T√©cnica Detallada</strong></p>
                </div>

                <div class="help-card">
                    <h3>Clase Principal: CalculadoraCalificaciones</h3>
                    <h4>Descripci√≥n:</h4>
                    <p>Clase principal que encapsula toda la l√≥gica de negocio del sistema. Implementa el patr√≥n Singleton para garantizar una √∫nica instancia global.</p>
                    
                    <h4>Propiedades:</h4>
                    <ul>
                        <li><code>estudiantes</code>: Array de objetos estudiante</li>
                        <li><code>porcentajes</code>: Objeto con porcentajes de cortes</li>
                        <li><code>vistaActual</code>: String que indica el modo de visualizaci√≥n</li>
                    </ul>

                    <h4>Constructor:</h4>
                    <div class="code-block">
                        <code>constructor() {<br>
&nbsp;&nbsp;this.estudiantes = [];<br>
&nbsp;&nbsp;this.porcentajes = {<br>
&nbsp;&nbsp;&nbsp;&nbsp;corte1: 33,<br>
&nbsp;&nbsp;&nbsp;&nbsp;corte2: 33,<br>
&nbsp;&nbsp;&nbsp;&nbsp;corte3: 34<br>
&nbsp;&nbsp;};<br>
}</code>
                    </div>
                </div>

                <div class="help-card">
                    <h3>M√©todo: init()</h3>
                    <h4>Prop√≥sito:</h4>
                    <p>Inicializa la aplicaci√≥n cargando datos, configurando eventos y renderizando la interfaz inicial.</p>
                    
                    <h4>Flujo de Ejecuci√≥n:</h4>
                    <ol>
                        <li>Carga datos desde LocalStorage</li>
                        <li>Configura todos los event listeners</li>
                        <li>Establece vista predeterminada (lista)</li>
                        <li>Renderiza estudiantes</li>
                    </ol>

                    <h4>Eventos Configurados:</h4>
                    <ul>
                        <li>Formulario de estudiantes</li>
                        <li>Filtro de vista</li>
                        <li>Configuraci√≥n de porcentajes</li>
                        <li>Importaci√≥n/Exportaci√≥n</li>
                    </ul>
                </div>

                <div class="help-card">
                    <h3>M√©todos de Persistencia</h3>
                    <h4>cargarDatos()</h4>
                    <p>Lee datos desde LocalStorage y los deserializa en objetos JavaScript.</p>
                    <div class="code-block">
                        <code>const data = localStorage.getItem('datosCalificaciones');<br>
if (data) {<br>
&nbsp;&nbsp;const parsed = JSON.parse(data);<br>
&nbsp;&nbsp;this.estudiantes = parsed.estudiantes || [];<br>
&nbsp;&nbsp;this.porcentajes = parsed.porcentajes || {...};<br>
}</code>
                    </div>

                    <h4>guardarDatos()</h4>
                    <p>Serializa y almacena datos en LocalStorage con manejo de errores.</p>
                    <ul>
                        <li>Valida cuota disponible</li>
                        <li>Maneja excepciones QuotaExceededError</li>
                        <li>Notifica al usuario en caso de error</li>
                    </ul>
                </div>

                <div class="help-card">
                    <h3>Gesti√≥n de Estudiantes (CRUD)</h3>
                    <h4>agregarEstudiante(datosEstudiante)</h4>
                    <ul>
                        <li>Valida datos de entrada</li>
                        <li>Genera ID √∫nico (timestamp)</li>
                        <li>Agrega al array de estudiantes</li>
                        <li>Guarda y re-renderiza</li>
                    </ul>

                    <h4>editarEstudiante(id, nuevosDatos)</h4>
                    <ul>
                        <li>Busca estudiante por ID</li>
                        <li>Actualiza propiedades</li>
                        <li>Recalcula definitiva</li>
                        <li>Persiste cambios</li>
                    </ul>

                    <h4>eliminarEstudiante(id)</h4>
                    <ul>
                        <li>Solicita confirmaci√≥n</li>
                        <li>Filtra array eliminando estudiante</li>
                        <li>Actualiza vista</li>
                    </ul>
                </div>

                <div class="help-card">
                    <h3>C√°lculos Acad√©micos</h3>
                    <h4>calcularDefinitiva(estudiante)</h4>
                    <p>Calcula la nota definitiva basada en porcentajes configurados.</p>
                    <div class="code-block">
                        <code>const definitiva = <br>
&nbsp;&nbsp;(corte1 * p1/100) + <br>
&nbsp;&nbsp;(corte2 * p2/100) + <br>
&nbsp;&nbsp;(corte3 * p3/100) + <br>
&nbsp;&nbsp;bonificacion;</code>
                    </div>

                    <h4>calcularNotaNecesaria(estudiante, objetivo)</h4>
                    <p>Determina qu√© nota se necesita en cortes faltantes para alcanzar un objetivo.</p>
                    <ul>
                        <li>Calcula acumulado actual</li>
                        <li>Determina porcentaje restante</li>
                        <li>Aplica f√≥rmula inversa</li>
                        <li>Valida si es alcanzable (‚â§ 5.0)</li>
                    </ul>
                </div>

                <div class="help-card">
                    <h3>Renderizado de Interfaz</h3>
                    <h4>renderizarEstudiantes()</h4>
                    <p>Actualiza la vista seg√∫n el modo seleccionado (tarjetas o lista).</p>
                    
                    <h4>crearTablaEstudiantes()</h4>
                    <ul>
                        <li>Genera estructura HTML de tabla</li>
                        <li>Itera sobre estudiantes</li>
                        <li>Crea inputs editables</li>
                        <li>Configura eventos onChange</li>
                    </ul>

                    <h4>crearCardEstudiante(estudiante)</h4>
                    <ul>
                        <li>Genera tarjeta HTML</li>
                        <li>Calcula predicciones</li>
                        <li>Aplica colores seg√∫n estado</li>
                        <li>Agrega botones de acci√≥n</li>
                    </ul>
                </div>

                <div class="help-card">
                    <h3>Validaciones</h3>
                    <h4>validarDatosEstudiante(datos)</h4>
                    <p>Valida integridad de datos antes de guardar.</p>
                    <ul>
                        <li><strong>Nombre:</strong> M√≠nimo 2 caracteres</li>
                        <li><strong>C√≥digo:</strong> M√≠nimo 3 caracteres, √∫nico</li>
                        <li><strong>Notas:</strong> Rango 0-5.0</li>
                    </ul>

                    <h4>validarNota(valor)</h4>
                    <div class="code-block">
                        <code>if (valor < 0) return 0;<br>
if (valor > 5) return 5;<br>
return Math.round(valor * 100) / 100;</code>
                    </div>
                </div>

                <div class="help-card">
                    <h3>Importaci√≥n de Datos</h3>
                    <h4>cargarArchivo(archivo)</h4>
                    <p>Procesa archivos Excel usando la librer√≠a SheetJS.</p>
                    
                    <h4>Proceso:</h4>
                    <ol>
                        <li>Lee archivo con FileReader</li>
                        <li>Parsea con XLSX.read()</li>
                        <li>Extrae hoja de trabajo</li>
                        <li>Mapea columnas a propiedades</li>
                        <li>Valida y crea estudiantes</li>
                    </ol>

                    <h4>Formato Esperado:</h4>
                    <p>Columnas: TIPO_DOC, NUMERO_DOC, NOMBRES_APELLIDOS, CORREO</p>
                </div>

                <div class="help-card">
                    <h3>Exportaci√≥n de Datos</h3>
                    <h4>exportarDatos()</h4>
                    <p>Genera archivo Excel con todos los datos del sistema.</p>
                    
                    <h4>Estructura del Archivo:</h4>
                    <ul>
                        <li>Hoja "Estudiantes" con datos completos</li>
                        <li>Columnas: C√≥digo, Nombre, Cortes, Definitiva, Estado</li>
                        <li>Formato compatible con Excel/LibreOffice</li>
                    </ul>

                    <h4>Tecnolog√≠a:</h4>
                    <p>Usa SheetJS para crear archivo .xlsx descargable</p>
                </div>

                <div class="help-card">
                    <h3>Manejo de Eventos</h3>
                    <h4>configurarEventListeners()</h4>
                    <p>Configura todos los event listeners de la aplicaci√≥n.</p>
                    
                    <h4>Eventos Principales:</h4>
                    <ul>
                        <li><strong>Submit:</strong> Formularios de estudiante y configuraci√≥n</li>
                        <li><strong>Change:</strong> Inputs de notas, filtro de vista</li>
                        <li><strong>Click:</strong> Botones de acci√≥n, navegaci√≥n</li>
                        <li><strong>Keypress:</strong> Atajos de teclado (Ctrl+N, Ctrl+S, etc.)</li>
                    </ul>
                </div>

                <div class="help-card">
                    <h3>Estados y Clasificaciones</h3>
                    <h4>determinarEstadoEstudiante(estudiante)</h4>
                    <p>Clasifica al estudiante seg√∫n su rendimiento acad√©mico.</p>
                    
                    <h4>Estados Posibles:</h4>
                    <ul>
                        <li><strong>aprobado:</strong> Definitiva ‚â• 3.0</li>
                        <li><strong>reprobado:</strong> Definitiva < 3.0</li>
                        <li><strong>inalcanzable:</strong> No puede aprobar</li>
                        <li><strong>en-progreso:</strong> Tiene cortes pendientes</li>
                    </ul>

                    <h4>Aplicaci√≥n de Estilos:</h4>
                    <p>Cada estado tiene colores y estilos espec√≠ficos para identificaci√≥n visual r√°pida.</p>
                </div>

                <div class="help-card">
                    <h3>Estad√≠sticas y Reportes</h3>
                    <h4>generarEstadisticas()</h4>
                    <p>Calcula m√©tricas globales del rendimiento acad√©mico.</p>
                    
                    <h4>M√©tricas Calculadas:</h4>
                    <ul>
                        <li>Promedio general de definitivas</li>
                        <li>Promedio por corte</li>
                        <li>Distribuci√≥n por estado</li>
                        <li>Estudiantes en riesgo</li>
                        <li>Tasa de aprobaci√≥n</li>
                    </ul>
                </div>

                <div class="help-card">
                    <h3>Actualizaci√≥n en Tiempo Real</h3>
                    <h4>actualizarNotaEstudiante(id, campo, valor)</h4>
                    <p>Actualiza notas directamente desde la tabla sin modal.</p>
                    
                    <h4>Proceso:</h4>
                    <ol>
                        <li>Valida el valor ingresado</li>
                        <li>Actualiza la propiedad del estudiante</li>
                        <li>Recalcula definitiva autom√°ticamente</li>
                        <li>Actualiza celda de definitiva en tabla</li>
                        <li>Guarda cambios en LocalStorage</li>
                    </ol>

                    <h4>Ventajas:</h4>
                    <p>Edici√≥n r√°pida sin interrumpir el flujo de trabajo</p>
                </div>

                <div class="help-card">
                    <h3>Gesti√≥n de Configuraci√≥n</h3>
                    <h4>actualizarPorcentajes(p1, p2, p3)</h4>
                    <p>Actualiza porcentajes de cortes con validaci√≥n.</p>
                    
                    <h4>Validaciones:</h4>
                    <ul>
                        <li>Suma debe ser exactamente 100%</li>
                        <li>Valores entre 0 y 100</li>
                        <li>N√∫meros enteros</li>
                    </ul>

                    <h4>Efectos:</h4>
                    <ul>
                        <li>Recalcula todas las definitivas</li>
                        <li>Actualiza predicciones</li>
                        <li>Re-renderiza interfaz</li>
                    </ul>
                </div>

                <div class="help-card">
                    <h3>Backup y Restauraci√≥n</h3>
                    <h4>crearRespaldo()</h4>
                    <p>Genera copia de seguridad de todos los datos.</p>
                    <ul>
                        <li>Serializa datos completos</li>
                        <li>Genera archivo JSON descargable</li>
                        <li>Incluye timestamp en nombre</li>
                    </ul>

                    <h4>limpiarDatos()</h4>
                    <p>Elimina todos los datos con confirmaci√≥n doble.</p>
                    <ul>
                        <li>Solicita confirmaci√≥n del usuario</li>
                        <li>Crea backup autom√°tico antes de limpiar</li>
                        <li>Reinicia a estado inicial</li>
                    </ul>
                </div>

                <div class="help-card">
                    <h3>Notificaciones (Toast)</h3>
                    <h4>mostrarNotificacion(mensaje, tipo)</h4>
                    <p>Muestra notificaciones temporales al usuario.</p>
                    
                    <h4>Tipos:</h4>
                    <ul>
                        <li><strong>success:</strong> Verde, operaci√≥n exitosa</li>
                        <li><strong>error:</strong> Rojo, error o validaci√≥n fallida</li>
                        <li><strong>info:</strong> Azul, informaci√≥n general</li>
                        <li><strong>warning:</strong> Amarillo, advertencia</li>
                    </ul>

                    <h4>Comportamiento:</h4>
                    <p>Aparece 3 segundos y se desvanece autom√°ticamente</p>
                </div>

                <div class="help-card">
                    <h3>Navegaci√≥n entre Secciones</h3>
                    <h4>cambiarSeccion(seccion)</h4>
                    <p>Gestiona la navegaci√≥n entre las tres secciones principales.</p>
                    
                    <h4>Proceso:</h4>
                    <ol>
                        <li>Oculta secci√≥n actual</li>
                        <li>Muestra nueva secci√≥n con animaci√≥n</li>
                        <li>Actualiza estado de botones de navegaci√≥n</li>
                        <li>Mantiene accesibilidad ARIA</li>
                    </ol>
                </div>

                <div class="help-card">
                    <h3>Optimizaciones de Rendimiento</h3>
                    <h4>T√©cnicas Implementadas:</h4>
                    <ul>
                        <li><strong>Debouncing:</strong> En b√∫squedas y filtros</li>
                        <li><strong>Event Delegation:</strong> Para elementos din√°micos</li>
                        <li><strong>Virtual Scrolling:</strong> Para listas grandes</li>
                        <li><strong>Lazy Loading:</strong> De secciones de ayuda</li>
                    </ul>

                    <h4>M√©tricas Objetivo:</h4>
                    <ul>
                        <li>Carga inicial: < 2 segundos</li>
                        <li>Renderizado: < 100ms</li>
                        <li>Respuesta a inputs: < 50ms</li>
                    </ul>
                </div>

                <div class="help-card">
                    <h3>Accesibilidad (A11y)</h3>
                    <h4>Caracter√≠sticas Implementadas:</h4>
                    <ul>
                        <li>Roles ARIA correctos</li>
                        <li>Atributos aria-label descriptivos</li>
                        <li>Navegaci√≥n por teclado completa</li>
                        <li>Contraste de colores WCAG AA</li>
                        <li>Focus visible en todos los controles</li>
                    </ul>

                    <h4>Atajos de Teclado:</h4>
                    <ul>
                        <li>Ctrl+N: Nuevo estudiante</li>
                        <li>Ctrl+S: Guardar</li>
                        <li>Ctrl+E: Exportar</li>
                        <li>Esc: Cerrar modales</li>
                    </ul>
                </div>
            </div>

            <!-- Formatos -->
            <div id="help-formatos" class="help-section">
                <div class="help-card">
                    <h3>Formato de Archivo Excel/CSV</h3>
                    <p>Para cargar estudiantes masivamente, use un archivo Excel con el siguiente formato:</p>
                    <div class="code-block">
                        <code>
TIPO_DOC | NUMERO_DOC | NOMBRES_APELLIDOS | - | CORREO |<br>
CC       | 123456789 | Juan P√©rez L√≥pez   | - | juan@mail.com<br>
TI       | 987654321 | Ana Rodr√≠guez     | - | ana@mail.com
                        </code>
                    </div>
                    
                    <h4>Reglas del Formato:</h4>
                    <ul>
                        <li><strong>Excel de Academusoft:</strong> Use el formato oficial de listas</li>
                        <li><strong>Encabezados:</strong> Mantener la estructura original</li>
                        <li><strong>Datos obligatorios:</strong> Tipo y n√∫mero de documento, nombres</li>
                        <li><strong>Datos opcionales:</strong> Correo electr√≥nico</li>
                    </ul>
                </div>

                <div class="help-card">
                    <h3>Configuraci√≥n de Porcentajes</h3>
                    <p>Los porcentajes predeterminados para los cortes acad√©micos son:</p>
                    <ul>
                        <li><strong>Primer Corte:</strong> 33%</li>
                        <li><strong>Segundo Corte:</strong> 33%</li>
                        <li><strong>Tercer Corte:</strong> 34%</li>
                    </ul>
                    <p>Puede modificar estos valores en la secci√≥n de Configuraci√≥n, asegur√°ndose de que la suma total sea exactamente 100%.</p>
                </div>

                <div class="help-card">
                    <h3>Interpretaci√≥n de Estados</h3>
                    <div class="estados-grid">
                        <div class="estado-item aprobado">
                            <h4>üü¢ Aprobado</h4>
                            <p>Definitiva ‚â• 3.0</p>
                        </div>
                        <div class="estado-item reprobado">
                            <h4>üî¥ Reprobado</h4>
                            <p>Definitiva < 3.0</p>
                        </div>
                        <div class="estado-item inalcanzable">
                            <h4>‚ö™ Inalcanzable</h4>
                            <p>Meta no alcanzable con 5.0</p>
                        </div>
                        <div class="estado-item en-progreso">
                            <h4>üü° En Progreso</h4>
                            <p>Con cortes pendientes</p>
                        </div>
                    </div>
                </div>

                <div class="help-card">
                    <h3>Contacto y Soporte</h3>
                    <p>Si necesitas ayuda adicional:</p>
                    <ul class="support-list">
                        <li>ÔøΩ‚Äçüè´ <strong>Profesor:</strong> V√≠ctor Fabi√°n Castro P√©rez</li>
                        <li>ÔøΩ <strong>Correo:</strong> victorcastrop@correo.unicordoba.edu.co</li>
                        <li>üè¢ <strong>Facultad:</strong> FACEDU UNICORDOBA</li>
                        <li>üñ•Ô∏è <strong>Departamento:</strong> Departamento de Inform√°tica Educativa</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Toast para notificaciones -->
    <div id="toast" class="toast"></div>

    <script src="script.js"></script>
</body>
<!-- SheetJS para soporte de archivos Excel -->
<script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
</body>
</html>